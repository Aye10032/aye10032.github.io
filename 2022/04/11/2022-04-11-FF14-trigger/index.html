<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/images/favicon.png"><link rel="icon" href="/images/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="Aye10032"><meta name="keywords" content=""><meta name="description" content="关于ATC高级触发器的一些使用技巧"><meta property="og:type" content="article"><meta property="og:title" content="ACT高级触发器食用指南"><meta property="og:url" content="https://www.aye10032.com/2022/04/11/2022-04-11-FF14-trigger/index.html"><meta property="og:site_name" content="叶宇的个人站"><meta property="og:description" content="关于ATC高级触发器的一些使用技巧"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E9%AB%98%E7%BA%A7%E8%A7%A6%E5%8F%91%E5%99%A8.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%8F%92%E4%BB%B6%E8%AE%BE%E7%BD%AE.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%96%B0%E5%BB%BA%E5%88%86%E7%BB%84.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E8%BF%9C%E6%95%8F%E8%81%8C%E4%B8%9A%E5%88%86%E7%BB%84.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%B6%88%E6%81%AF%E8%AE%BE%E7%BD%AE.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%98%BE%E7%A4%BA%E4%BD%BF%E7%94%A8%E6%8A%80%E8%83%BD.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%98%BE%E7%A4%BA%E6%8A%80%E8%83%BD.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%96%B0%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E8%A7%A6%E5%8F%91%E5%99%A8%E8%AE%BE%E7%BD%AE.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%B7%BB%E5%8A%A0%E5%8A%A8%E4%BD%9C.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/TTS%E8%AE%BE%E7%BD%AE.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E8%A7%A6%E5%8F%91%E5%99%A8%E7%95%8C%E9%9D%A2.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E5%B0%8F%E8%88%9ECD.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E7%BC%96%E8%BE%91%E5%8A%A8%E4%BD%9C.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E8%AE%BE%E7%BD%AE%E8%A7%A6%E5%8F%91%E5%99%A8%E5%8A%A8%E4%BD%9C%E5%BB%B6%E6%97%B6.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E7%BC%BA%E7%9C%81%E5%8C%B9%E9%85%8D.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%89%8B%E5%8A%A8%E8%BE%93%E5%85%A5%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%A5.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E8%8E%B7%E5%8F%96%E5%8F%98%E9%87%8F.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%98%BE%E7%A4%BA%E5%8F%98%E9%87%8F.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E8%B0%83%E6%95%B4%E5%8A%A8%E4%BD%9C%E9%A1%BA%E5%BA%8F.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%B6%88%E6%81%AF%E5%BC%B9%E7%AA%97.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E5%B8%A6%E9%A2%91%E9%81%93%E5%8F%B7%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E9%99%90%E6%97%B6%E6%94%B6%E8%97%8F%E5%93%81%E9%87%87%E9%9B%86%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%AF%921-1.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%AF%922-1.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%AF%921.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%AF%922.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%AF%923.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%B7%BB%E5%8A%A0%E6%9D%A1%E4%BB%B6.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E7%A9%BA%E7%99%BD%E6%9D%A1%E4%BB%B6.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E7%BC%96%E8%BE%91%E6%9D%A1%E4%BB%B6.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E8%A7%A6%E5%8F%91%E6%9D%A1%E4%BB%B6.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E8%A7%A6%E5%8F%91%E5%99%A8%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E7%BB%AD%E6%AF%92%E5%8A%A8%E4%BD%9C.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E5%AD%97%E5%B9%95%E6%98%BE%E7%A4%BA.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%96%87%E6%9C%AC%E6%98%BE%E7%A4%BA.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E8%AE%BE%E7%BD%AE%E6%96%87%E6%9C%AC%E4%BF%A1%E6%81%AF.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E8%AE%BE%E7%BD%AE%E6%96%87%E6%9C%AC%E9%A2%9C%E8%89%B2.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%96%87%E6%9C%AC%E6%A1%861.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E4%BF%9D%E5%AD%98%E8%B0%83%E6%95%B4%E5%A5%BD%E7%9A%84%E6%96%87%E6%9C%AC%E6%A1%86.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%96%87%E6%9C%AC%E8%AE%BE%E7%BD%AE%E7%95%8C%E9%9D%A2.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E6%97%A0%E6%B3%95%E6%84%9F%E7%9F%A5.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E5%81%9C%E7%94%A8Aura%E8%B5%84%E6%BA%90.png"><meta property="og:image" content="https://www.aye10032.com/images/posts/ff14trigger/image-20220411154727672.png"><meta property="article:published_time" content="2022-04-11T10:51:20.000Z"><meta property="article:modified_time" content="2024-02-18T17:45:58.660Z"><meta property="article:author" content="Aye10032"><meta property="article:tag" content="游戏"><meta property="article:tag" content="FF14"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://www.aye10032.com/images/posts/ff14trigger/%E9%AB%98%E7%BA%A7%E8%A7%A6%E5%8F%91%E5%99%A8.png"><meta name="twitter:creator" content="@Aye10032"><meta name="referrer" content="no-referrer-when-downgrade"><title>ACT高级触发器食用指南 - 叶宇的个人站</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"www.aye10032.com",root:"/",version:"1.9.7",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/images/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:null,google:{measurement_id:"G-285089DP1E"},tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><script async>Fluid.ctx.dnt||Fluid.utils.createScript("https://www.googletagmanager.com/gtag/js?id=G-285089DP1E",(function(){function a(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],a("js",new Date),a("config","G-285089DP1E")}))</script><meta name="generator" content="Hexo 7.0.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>鸽子窝</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/" target="_self"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/" target="_self"><i class="iconfont icon-archive-fill"></i> <span>归档</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/" target="_self"><i class="iconfont icon-category-fill"></i> <span>分类</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></li><li class="nav-item"><a class="nav-link" href="/about/" target="_self"><i class="iconfont icon-user-fill"></i> <span>关于</span></a></li><li class="nav-item"><a class="nav-link" href="/bangumis/index.html" target="_self"><i class="iconfont icon-bilibili-fill"></i> <span>我的追番</span></a></li><li class="nav-item"><a class="nav-link" href="/links/" target="_self"><i class="iconfont icon-link-fill"></i> <span>友链</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/images/background-cover.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="ACT高级触发器食用指南"></span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> Aye10032 </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2022-04-11 10:51" pubdate>2022年4月11日 上午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 3.4k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 29 分钟 </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> 次</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar category-bar" style="margin-right:-1rem"><div class="category-list"><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="游戏" id="heading-ba08216f13dd1742157412386eee1225" role="tab" data-toggle="collapse" href="#collapse-ba08216f13dd1742157412386eee1225" aria-expanded="true">游戏 <span class="list-group-count">(3)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-ba08216f13dd1742157412386eee1225" role="tabpanel" aria-labelledby="heading-ba08216f13dd1742157412386eee1225"><div class="category-post-list"></div><div class="category-sub row nomargin-x"><a class="category-subitem list-group-item category-item-action col-10 col-md-11 col-xm-11" title="FF14" id="heading-93149e78e40bed1d25d9621557326ea4" role="tab" data-toggle="collapse" href="#collapse-93149e78e40bed1d25d9621557326ea4" aria-expanded="true">FF14 <span class="list-group-count">(2)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-93149e78e40bed1d25d9621557326ea4" role="tabpanel" aria-labelledby="heading-93149e78e40bed1d25d9621557326ea4"><div class="category-post-list"><a href="/2022/04/11/2022-04-11-FF14-trigger/" title="ACT高级触发器食用指南" class="list-group-item list-group-item-action active"><span class="category-post">ACT高级触发器食用指南</span> </a><a href="/2022/01/01/2022-01-01-FF14-fishing/" title="烟波钓徒之路" class="list-group-item list-group-item-action"><span class="category-post">烟波钓徒之路</span></a></div></div></div><div class="category-sub row nomargin-x"><a class="category-subitem collapsed list-group-item category-item-action col-10 col-md-11 col-xm-11" title="潜渊症" id="heading-4413508e6905b0a8ce8c4efc19304242" role="tab" data-toggle="collapse" href="#collapse-4413508e6905b0a8ce8c4efc19304242" aria-expanded="false">潜渊症 <span class="list-group-count">(1)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse" id="collapse-4413508e6905b0a8ce8c4efc19304242" role="tabpanel" aria-labelledby="heading-4413508e6905b0a8ce8c4efc19304242"><div class="category-post-list"><a href="/2022/06/23/2022-06-23-Barotrauma-server-setup/" title="Barotrauma潜渊症服务器搭建笔记" class="list-group-item list-group-item-action"><span class="category-post">Barotrauma潜渊症服务器搭建笔记</span></a></div></div></div></div></div></div></aside></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">ACT高级触发器食用指南</h1><p id="updated-time" class="note note-info">本文最后更新于 2024年2月18日 下午</p><div class="markdown-body"><h1 id="事前准备">1. 事前准备</h1><p>首先需要准备ACT，并安装Triggernometry插件</p><p><img src="/images/posts/ff14trigger/高级触发器.png" srcset="/images/loading.gif" lazyload></p><p>打开之后，在插件选项卡中进入Triggernometry窗口，即可编写你的自定义触发器</p><p><img src="/images/posts/ff14trigger/插件设置.png" srcset="/images/loading.gif" lazyload></p><h1 id="简单的触发器设置">2. 简单的触发器设置</h1><h2 id="设置分组">2.1 设置分组</h2><p>首先，我们以技能CD监控为例，编写一个简单的触发器。</p><p>首先，右键本地触发器，新建一个分组。</p><figure><img src="/images/posts/ff14trigger/新建分组.png" srcset="/images/loading.gif" lazyload alt="新建分组"><figcaption aria-hidden="true">新建分组</figcaption></figure><p>分组除了可以方便我们整理触发器之外，还可以对触发器进行一些简单的分类。例如，现在我们编写的是战职的CD监控，那么我们可以建立三级分组，分别设置只有在战职触发、只在远敏职业触发、只在舞者触发。只需要右键分组，并选择编辑按钮，即可对分组进行设置。如下图所示：</p><figure><img src="/images/posts/ff14trigger/远敏职业分组.png" srcset="/images/loading.gif" lazyload alt="远敏职业分组"><figcaption aria-hidden="true">远敏职业分组</figcaption></figure><p>接下来，我们就可以开始编写一个简单的触发器了。首先，触发器的本质其实就是匹配游戏的输出日志，并作出对应的响应，有点类似于QQ机器人的逻辑。</p><h2 id="显示技能">2.2 显示技能</h2><p>由于是编写技能CD监控，我们需要先在游戏中显示自己的技能。如下图所示，设置显示自己的技能：</p><p><img src="/images/posts/ff14trigger/消息设置.png" srcset="/images/loading.gif" lazyload></p><figure><img src="/images/posts/ff14trigger/显示使用技能.png" srcset="/images/loading.gif" lazyload alt="显示使用技能"><figcaption aria-hidden="true">显示使用技能</figcaption></figure><p>例如这里我就是在“战斗”窗口中显示自己发动了什么技能。当我们切换到战斗窗口，就可以看到自己发动的所有技能：</p><figure><img src="/images/posts/ff14trigger/显示技能.png" srcset="/images/loading.gif" lazyload alt="显示技能"><figcaption aria-hidden="true">显示技能</figcaption></figure><p>现在，我们只需要将这个句子复制下来，就可以在触发器中进行监控了。</p><h2 id="编写触发器">2.3 编写触发器</h2><p>我们右键分组，选择添加触发：</p><figure><img src="/images/posts/ff14trigger/新建触发器.png" srcset="/images/loading.gif" lazyload alt="新建触发器"><figcaption aria-hidden="true">新建触发器</figcaption></figure><p>触发器的名字随便起，只要方便你辨认就行，在正则表达式一栏，将刚刚聊天栏内的技能复制过来：</p><figure><img src="/images/posts/ff14trigger/触发器设置.png" srcset="/images/loading.gif" lazyload alt="触发器设置"><figcaption aria-hidden="true">触发器设置</figcaption></figure><p>接下来我们就要设置触发器具体执行什么动作，点击下面的添加动作（add action），动作类型有很多，例如系统音效就是“嘟”的响一声。我们这里先选择TTS：</p><figure><img src="/images/posts/ff14trigger/添加动作.png" srcset="/images/loading.gif" lazyload alt="添加动作"><figcaption aria-hidden="true">添加动作</figcaption></figure><p>在播读内容中写上你希望ACT报的文字，下面可以调播读音量和语速。点击test action按钮可以试听一下TTS效果，编辑好之后点击添加添加动作。</p><figure><img src="/images/posts/ff14trigger/TTS设置.png" srcset="/images/loading.gif" lazyload alt="TTS设置"><figcaption aria-hidden="true">TTS设置</figcaption></figure><p>保存好的触发器现在长这个样子，点击保存更改就可以保存你的触发器了。现在回到游戏，再跳一个小舞，可以听到在你按下了标准舞步的时候，ACT报了你刚刚设置的文字。</p><figure><img src="/images/posts/ff14trigger/触发器界面.png" srcset="/images/loading.gif" lazyload alt="触发器界面"><figcaption aria-hidden="true">触发器界面</figcaption></figure><h2 id="延时设置">2.4 延时设置</h2><p>我们希望做技能CD监控，显然还需要做一个延时的处理，例如标准舞步的CD是30秒，那么我希望在28秒的时候提醒我CD快好了，怎么做呢？</p><p><img src="/images/posts/ff14trigger/小舞CD.png" srcset="/images/loading.gif" lazyload></p><p>回到我们刚刚编写好的触发器，右键动作（注意是动作），打开编辑窗口：</p><figure><img src="/images/posts/ff14trigger/编辑动作.png" srcset="/images/loading.gif" lazyload alt="编辑动作"><figcaption aria-hidden="true">编辑动作</figcaption></figure><p>切换到计划任务选项卡，在这里，我们就可以设置延时，即下图中③所示，代表27000毫秒后（CD转好还剩3秒）执行这个动作。此外，建议将②处改为中断之前的队列，这样当你再按了一次这个技能的时候，触发器就会刷新时间。主要是针对那些有多层充能的技能：</p><figure><img src="/images/posts/ff14trigger/设置触发器动作延时.png" srcset="/images/loading.gif" lazyload alt="设置触发器动作延时"><figcaption aria-hidden="true">设置触发器动作延时</figcaption></figure><p>完毕之后点击保存更改，别忘了动作和触发器都要保存。回到游戏，再次按下标准舞步，就可以听到在CD还有3秒钟转好的时候TTS播报的语音提示了。</p><div class="note note-warning"><p>需要注意的是触发器实际上是存在一定的延时的，比如在我的电脑上，我设置的是27秒延时，但是体感上是在28秒的时候才播报的，因此建议在设置好之后实际使用一下，再根据实际情况进行微调。</p></div><h1 id="进阶设置">3. 进阶设置</h1><h2 id="缺省匹配">3.1 缺省匹配</h2><p>可以看到刚刚的触发器我们是直接把聊天栏的内容复制了过来，这是带着玩家ID的，那万一我们改名了，或者想把我们编写好的触发器分享给别人，很显然它就不能正确的匹配到信息了，怎么办呢？</p><p>由于我们已经知道了这里使用的是正则表达式进行匹配，那么最简单粗暴的方法就是：</p><figure><img src="/images/posts/ff14trigger/缺省匹配.png" srcset="/images/loading.gif" lazyload alt="缺省匹配"><figcaption aria-hidden="true">缺省匹配</figcaption></figure><p>把前面ID部分删了就好了。</p><h2 id="频道号与变量">3.2 频道号与变量</h2><p>但是现在还有一个问题，虽然<strong>在我们当前编写的技能CD监控中基本上不会碰到这种情况</strong>，但是当你写别的一些触发器的时候也许就会碰上，是什么呢？</p><p>大家可以试试，现在手动在说话频道或者其它什么频道把这段匹配字句打一下，你会发现它也激活了触发器。</p><p><img src="/images/posts/ff14trigger/手动输入关键字句.png" srcset="/images/loading.gif" lazyload></p><p>这显然是不行的，我们只要匹配对应的消息，不是只要文字对就匹配的。怎么办呢？在处理这个问题之前，我们先来了解一下触发器中的局部变量。</p><h3 id="变量">3.2.1 变量</h3><p>首先，我们将触发器的正则表达式进行一下修改，在前面加上<code>(?&lt;player&gt;.*)</code>，这里的player也可以是其它的变量名称：</p><figure><img src="/images/posts/ff14trigger/获取变量.png" srcset="/images/loading.gif" lazyload alt="获取变量"><figcaption aria-hidden="true">获取变量</figcaption></figure><p>然后我们再添加一个新动作，动作类型选择显示消息框，在“消息的文本”处，填上<code>$&#123;player&#125;</code>，同理，这里的变量名只要跟你上面设置的一致即可：</p><figure><img src="/images/posts/ff14trigger/显示变量.png" srcset="/images/loading.gif" lazyload alt="显示变量"><figcaption aria-hidden="true">显示变量</figcaption></figure><p>接下来点击move up将这个动作移到最上面，或者直接取消勾选我们之前设置的那个动作，否则这个新的动作就要等到27秒后，TTS播报完才会执行：</p><figure><img src="/images/posts/ff14trigger/调整动作顺序.png" srcset="/images/loading.gif" lazyload alt="调整动作顺序"><figcaption aria-hidden="true">调整动作顺序</figcaption></figure><p>现在我们回到游戏，再按一下标准舞步，可以看到弹出来了一个窗口：</p><figure><img src="/images/posts/ff14trigger/消息弹窗.png" srcset="/images/loading.gif" lazyload alt="消息弹窗"><figcaption aria-hidden="true">消息弹窗</figcaption></figure><p>这里实际上就是将我们上面触发器中缺省的文本赋值给了player变量，然后在弹窗中显示了这个变量。我们注意这里的<strong>082B</strong>，这就是我们要找的<strong>频道号</strong>。</p><div class="note note-warning"><p>这里有可能你没看到弹窗，实际上可能是由于游戏全屏或其他原因，导致弹窗并没有置顶显示。如果遇到这种情况，可以按alt+tab切换窗口来显示这个弹窗。</p></div><h3 id="频道号">3.2.2 频道号</h3><p>实际上我们聊天栏中显示的所有不同的消息，都是分别归属于不同的频道，当然这个是隐性的，我们日常是看不到的，但是现在我们就可以通过频道号来实现仅仅匹配某一类频道中的文本，例如我们上面已经知道了技能信息的频道号是082B，那么现在，我们就可以修改正则表达式成这样：</p><figure><img src="/images/posts/ff14trigger/带频道号的正则表达式.png" srcset="/images/loading.gif" lazyload alt="带频道号的正则表达式"><figcaption aria-hidden="true">带频道号的正则表达式</figcaption></figure><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby">082B::(<span class="hljs-string">?&lt;</span>player&gt;.*)发动了“标准舞步”。<br></code></pre></td></tr></table></figure><p>同理，对于其它想要查询频道号的信息，也可以用这个办法去显示。查询完毕之后记得将这个显示弹窗的动作删除掉即可。</p><h3 id="使用案例">3.2.3 使用案例</h3><p>这里再展示一个栗子，监听收藏品采集，并通过TTS播报刷新的资源是什么：</p><figure><img src="/images/posts/ff14trigger/限时收藏品采集的表达式.png" srcset="/images/loading.gif" lazyload alt="限时收藏品采集"><figcaption aria-hidden="true">限时收藏品采集</figcaption></figure><h2 id="带条件的触发器">3.3 带条件的触发器</h2><p>还是以技能CD监控为例，这次我们尝试监控诗人的毒DOT，我们知道诗人存在两种上毒的方法，其一是手动续两个毒dot，其二是当56级学会伶牙俐齿之后通过该技能一次性刷新两个毒的CD。</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="/images/posts/ff14trigger/毒1-1.png" srcset="/images/loading.gif" lazyload></div><div class="group-image-wrap"><img src="/images/posts/ff14trigger/毒2-1.png" srcset="/images/loading.gif" lazyload></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/posts/ff14trigger/毒1.png" srcset="/images/loading.gif" lazyload></div><div class="group-image-wrap"><img src="/images/posts/ff14trigger/毒2.png" srcset="/images/loading.gif" lazyload></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="/images/posts/ff14trigger/毒3.png" srcset="/images/loading.gif" lazyload></div></div></div><p>那么，我们怎么通过一个触发器就完成对毒DOT的监控呢？这就需要用到<strong>触发器条件</strong>这一功能了。我们还是先写好基础的触发器语句，但是这回我们把技能部分也留空，接下来切换到触发器条件选项卡，默认会有一个未启用的空白分组，我们右键它，选择添加一个条件：</p><figure><img src="/images/posts/ff14trigger/添加条件.png" srcset="/images/loading.gif" lazyload alt="添加条件"><figcaption aria-hidden="true">添加条件</figcaption></figure><p>可以看到，默认的空白条件是这样的：</p><figure><img src="/images/posts/ff14trigger/空白条件.png" srcset="/images/loading.gif" lazyload alt="空白条件"><figcaption aria-hidden="true">空白条件</figcaption></figure><p>触发器支持一些对字符串和数字的简单对比，我们点开<strong>运算符</strong>的下拉菜单可以看到可用的所有逻辑运算符：</p><figure><img src="/images/posts/ff14trigger/逻辑运算符.png" srcset="/images/loading.gif" lazyload alt="逻辑运算符"><figcaption aria-hidden="true">逻辑运算符</figcaption></figure><p>这里我们需要实现的是匹配字符，因此我们选择<strong>左侧必须与右侧的正则表达式匹配</strong>，而左侧填入变量skill，右侧是要匹配的技能名称，如下图所示：</p><p><img src="/images/posts/ff14trigger/编辑条件.png" srcset="/images/loading.gif" lazyload></p><p>接下来我们将上述的5个技能全部添加为条件，而条件组类型就选择至少有一个为真（也就是或运算）即可，同时别忘了把计划任务改成中断之前的队列。完成的界面如下图所示：</p><figure><img src="/images/posts/ff14trigger/触发器的触发条件.png" srcset="/images/loading.gif" lazyload alt="触发条件"><figcaption aria-hidden="true">触发条件</figcaption></figure><figure><img src="/images/posts/ff14trigger/触发器计划任务.png" srcset="/images/loading.gif" lazyload alt="计划任务"><figcaption aria-hidden="true">计划任务</figcaption></figure><figure><img src="/images/posts/ff14trigger/续毒动作.png" srcset="/images/loading.gif" lazyload alt="动作"><figcaption aria-hidden="true">动作</figcaption></figure><p>这样，我们就完成了一个简单的续毒提示触发器，只要我们使用了上述5个毒dot类技能中的任意一个，就会在40秒后提醒我们续毒。</p><p>当然，不仅仅是触发器可以设置条件，<strong>动作也是可以设置条件的</strong>，这里我就不再赘述，大家自行根据实际需求运用即可。</p><h2 id="显示字幕">3.4 显示字幕</h2><p>除了TTS之外，我们还可以通过字幕的形式来显示变量信息。以3.2.3中的采集触发器为例，有可能TTS播报的时候我们去干别的了，那我们希望触发器除了TTS之外还能够把消息打在公屏上（不是），如下图所示：</p><figure><img src="/images/posts/ff14trigger/字幕显示.png" srcset="/images/loading.gif" lazyload alt="字幕显示"><figcaption aria-hidden="true">字幕显示</figcaption></figure><p>我们打开触发器，新建一个动作，动作类型为文本显示（Aura）:</p><figure><img src="/images/posts/ff14trigger/文本显示.png" srcset="/images/loading.gif" lazyload alt="文本显示"><figcaption aria-hidden="true">文本显示</figcaption></figure><p>我们现在要做的是显示文本，因此操作就是激活或修改指定的文本 Aura。</p><p>接下来是<strong>唯一标识符</strong>，这个Aura可以理解为一个全局变量，也就是说我们可以从别的触发器中访问到这个资源，因此这里的唯一标识符就相当于是这个全局变量的变量名，切记不可重复。我们这里就起名为资源，言简意赅。</p><p>然后是显示的文本，这个好理解，就是你要显示什么。这里我们让他显示source变量中获取到的文本。如下图所示：</p><figure><img src="/images/posts/ff14trigger/设置文本信息.png" srcset="/images/loading.gif" lazyload alt="设置文本信息"><figcaption aria-hidden="true">设置文本信息</figcaption></figure><p>下面就是调整文本的字体、字号、颜色、位置等等。点击字体旁边的小齿轮按钮，可以设置文本的颜色、背景颜色和轮廓颜色：</p><figure><img src="/images/posts/ff14trigger/设置文本颜色.png" srcset="/images/loading.gif" lazyload alt="设置文本颜色"><figcaption aria-hidden="true">设置文本颜色</figcaption></figure><p>这里光设置了轮廓颜色还不够，记得要把下面的文本轮廓的复选框也勾选上才会显示轮廓。</p><p>点击边上的浏览按钮可以设置字体和字号。</p><p>最后就是设置你要让文本在哪里显示。直接点击“使用即时设置”按钮，你会看到有一个小方块显示出来，初始大概长这样：</p><p><img src="/images/posts/ff14trigger/文本框1.png" srcset="/images/loading.gif" lazyload></p><p>使用鼠标左键拖动它，将光标放置在角落上可以调整大小，这样就可以直接把文本框放到你想要的位置上。调整好位置和大小之后，右键这个文本框，选择保存，就可以保存它的坐标位置了：</p><figure><img src="/images/posts/ff14trigger/保存调整好的文本框.png" srcset="/images/loading.gif" lazyload alt="保存调整好的文本框"><figcaption aria-hidden="true">保存调整好的文本框</figcaption></figure><p>这样我们就设置好了显示文本的动作，记得保存：</p><p><img src="/images/posts/ff14trigger/文本设置界面.png" srcset="/images/loading.gif" lazyload></p><p>这样我们就可以看到，当刷新资源点的时候，TTS播报了语音提示，同时字幕会一直显示刷新的具体资源，就像最开始演示的那样。</p><h2 id="aura变量">3.5 Aura变量</h2><p>依旧以上面的收藏品采集为例子，我们也不希望这个字幕一直挂在这里，比如当这个采集点消失了或者我们已经去挖完了，想让这个文本消失，可以做到吗？</p><p>可以看到，无论是时间到了还是采集完毕，都有这么一句通知：</p><figure><img src="/images/posts/ff14trigger/无法感知.png" srcset="/images/loading.gif" lazyload alt="无法继续感知未知的草场……"><figcaption aria-hidden="true">无法继续感知未知的草场……</figcaption></figure><p>那么我们就来监听这一句消息，通过查询可知该消息的频道号为083B，那么就新建触发器，匹配文本为：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby">083B::无法继续感知(<span class="hljs-string">?&lt;</span>source_1&gt;.*)<br></code></pre></td></tr></table></figure><p>这里的变量名理论上还是可以叫source的，但是为了防止混淆所以起了不一样的变量名。</p><p>下面新建动作，类型还是文本显示（Aura），但是这回我们的操作变为了停用指定的文本Aura：</p><figure><img src="/images/posts/ff14trigger/停用Aura资源.png" srcset="/images/loading.gif" lazyload alt="停用Aura资源"><figcaption aria-hidden="true">停用Aura资源</figcaption></figure><p>我们前面说过，Aura就类似程序中的全局变量。因此这里的操作就好理解了，我们在这里通过<strong>同样的唯一标识符</strong>来找到这个文本Aura资源，然后停用它，这样这个文本框就不会显示了，去找一个矿挖一下，可以看到在挖完之后，文本就消失了：</p><p><img src="/images/posts/ff14trigger/image-20220411154727672.png" srcset="/images/loading.gif" lazyload></p><h1 id="结语">4. 结语</h1><p>除此之外，在动作类型中还有很多其它的操作，但是基本上逻辑都殊途同归，只不过是执行的操作不一样了而已。例如<strong>通用JSON操作</strong>动作可以像目标URL发送带参POST请求，依此可以完成例如与QQ机器人联动等等类似的操作。</p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E6%B8%B8%E6%88%8F/" class="category-chain-item">游戏</a> <span>></span> <a href="/categories/%E6%B8%B8%E6%88%8F/FF14/" class="category-chain-item">FF14</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/%E6%B8%B8%E6%88%8F/" class="print-no-link">#游戏</a> <a href="/tags/FF14/" class="print-no-link">#FF14</a></div></div><div class="license-box my-3"><div class="license-title"><div>ACT高级触发器食用指南</div><div>https://www.aye10032.com/2022/04/11/2022-04-11-FF14-trigger/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Aye10032</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2022年4月11日</div></div><div class="license-meta-item license-meta-date"><div>更新于</div><div>2024年2月18日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2022/04/20/2022-04-20-mysql/" title="解决安装phpMyadmin时MySQL报错的问题"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">解决安装phpMyadmin时MySQL报错的问题</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2022/01/01/2022-01-01-FF14-fishing/" title="烟波钓徒之路"><span class="hidden-mobile">烟波钓徒之路</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="gitalk-container"></div><script type="text/javascript">Fluid.utils.loadComments("#gitalk-container",(function(){Fluid.utils.createCssLink("/css/gitalk.css"),Fluid.utils.createScript("https://lib.baomitu.com/gitalk/1.8.0/gitalk.min.js",(function(){var e=Object.assign({clientID:"eeda953af44e09f78441",clientSecret:"cb84da4697fdc74e72451e5b9618297b1667988b",repo:"Aye10032.github.io",owner:"Aye10032",admin:["Aye10032"],language:"zh-CN",labels:["Gitalk"],perPage:10,pagerDirection:"last",distractionFreeMode:!1,createIssueManually:!0,proxy:"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token"},{id:"a145f8115ce495ee707954da49d21e76"});new Gitalk(e).render("gitalk-container")}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span><span id="busuanzi_container_site_uv" style="display:none">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span></div><div class="beian"><span><a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">苏ICP备19040408号-2 </a></span><span><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=32108102010462" rel="nofollow noopener" class="beian-police" target="_blank"><span style="visibility:hidden;width:0">|</span> <img src="/images/%E5%A4%87%E6%A1%88%E5%9B%BE%E6%A0%87.png" srcset="/images/loading.gif" lazyload alt="police-icon"> <span>苏公网安备 32108102010462号</span></a></span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>